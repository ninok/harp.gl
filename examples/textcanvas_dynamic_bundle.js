/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"textcanvas_dynamic": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/textcanvas_dynamic.ts","common"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/textcanvas_dynamic.ts":
/*!***********************************!*\
  !*** ./src/textcanvas_dynamic.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/*\n * Copyright (C) 2017-2019 HERE Europe B.V.\n * Licensed under Apache 2.0, see full license in LICENSE\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dat_gui_1 = __webpack_require__(/*! dat.gui */ \"../../node_modules/dat.gui/build/dat.gui.module.js\");\n// tslint:disable-next-line:no-var-requires\nvar Stats = __webpack_require__(/*! stats.js */ \"../../node_modules/stats.js/build/stats.min.js\");\nvar THREE = __webpack_require__(/*! three */ \"three\");\nvar harp_text_canvas_1 = __webpack_require__(/*! @here/harp-text-canvas */ \"../harp-text-canvas/index.ts\");\n/**\n * This example showcases how [[TextCanvas]] can handle dynamic loading of multiple [[FontCatalog]]\n * assets, as well as dynamic real-time text styling.\n *\n * For more information regarding basic [[TextCanvas]] initialization and usage, please check:\n * [[TextCanvasMinimalExample]] documentation.\n */\nvar TextCanvasDynamicExample;\n(function (TextCanvasDynamicExample) {\n    var stats = new Stats();\n    var gui = new dat_gui_1.GUI({ hideable: false });\n    var guiOptions = {\n        input: \"Type to start...\",\n        fontName: \"\",\n        gridEnabled: true,\n        boundsEnabled: true,\n        color: {\n            r: 0.0,\n            g: 0.0,\n            b: 0.0\n        },\n        backgroundColor: {\n            r: 0.0,\n            g: 0.0,\n            b: 0.0\n        }\n    };\n    var webglRenderer;\n    var camera;\n    var textCanvas;\n    var textRenderStyle;\n    var assetsLoaded = false;\n    var characterCount = 256;\n    var textSample = guiOptions.input;\n    var penPosition = new THREE.Vector3(Math.floor(-window.innerWidth / 4.0), 0, 0);\n    var textBounds = new THREE.Box2(new THREE.Vector2(), new THREE.Vector2());\n    var characterBounds = [];\n    var boundsScene;\n    var boundsVertexBuffer;\n    var boundsGeometry;\n    var boundsObject;\n    var boundsPosition = penPosition.clone();\n    var gridScene;\n    var penObject;\n    function addGUIControls() {\n        guiOptions.color.r = textRenderStyle.color.r * 255.0;\n        guiOptions.color.g = textRenderStyle.color.g * 255.0;\n        guiOptions.color.b = textRenderStyle.color.b * 255.0;\n        guiOptions.backgroundColor.r = textRenderStyle.backgroundColor.r * 255.0;\n        guiOptions.backgroundColor.g = textRenderStyle.backgroundColor.g * 255.0;\n        guiOptions.backgroundColor.b = textRenderStyle.backgroundColor.b * 255.0;\n        gui.add(guiOptions, \"input\").onFinishChange(function (value) {\n            textSample = harp_text_canvas_1.ContextualArabicConverter.instance.convert(value);\n            assetsLoaded = false;\n            textCanvas.fontCatalog.loadCharset(textSample, textRenderStyle).then(function () {\n                assetsLoaded = true;\n            });\n        });\n        gui.add(guiOptions, \"gridEnabled\");\n        gui.add(guiOptions, \"boundsEnabled\");\n        gui.add(textRenderStyle.fontSize, \"unit\", {\n            Em: harp_text_canvas_1.FontUnit.Em,\n            Pixel: harp_text_canvas_1.FontUnit.Pixel,\n            Point: harp_text_canvas_1.FontUnit.Point,\n            Percent: harp_text_canvas_1.FontUnit.Percent\n        }).onChange(function (value) {\n            textRenderStyle.fontSize.unit = Number(value);\n        });\n        gui.add(textRenderStyle.fontSize, \"size\", 0.1, 100, 0.1);\n        gui.add(textRenderStyle.fontSize, \"backgroundSize\", 0.0, 100, 0.1);\n        gui.addColor(guiOptions, \"color\").onChange(function () {\n            textRenderStyle.color.r = guiOptions.color.r / 255.0;\n            textRenderStyle.color.g = guiOptions.color.g / 255.0;\n            textRenderStyle.color.b = guiOptions.color.b / 255.0;\n        });\n        gui.add(textRenderStyle, \"opacity\", 0.0, 1.0, 0.01);\n        gui.addColor(guiOptions, \"backgroundColor\").onChange(function () {\n            textRenderStyle.backgroundColor.r = guiOptions.backgroundColor.r / 255.0;\n            textRenderStyle.backgroundColor.g = guiOptions.backgroundColor.g / 255.0;\n            textRenderStyle.backgroundColor.b = guiOptions.backgroundColor.b / 255.0;\n        });\n        gui.add(textRenderStyle, \"backgroundOpacity\", 0.0, 1.0, 0.1);\n        gui.add(guiOptions, \"fontName\").onFinishChange(function (value) {\n            textRenderStyle.fontName = value;\n            assetsLoaded = false;\n            textCanvas.fontCatalog.loadCharset(textSample, textRenderStyle).then(function () {\n                assetsLoaded = true;\n            });\n        });\n        gui.add(textRenderStyle, \"fontStyle\", {\n            Regular: harp_text_canvas_1.FontStyle.Regular,\n            Bold: harp_text_canvas_1.FontStyle.Bold,\n            Italic: harp_text_canvas_1.FontStyle.Italic,\n            BoldItalic: harp_text_canvas_1.FontStyle.BoldItalic\n        }).onChange(function (value) {\n            textRenderStyle.fontStyle = Number(value);\n            assetsLoaded = false;\n            textCanvas.fontCatalog.loadCharset(textSample, textRenderStyle).then(function () {\n                assetsLoaded = true;\n            });\n        });\n        gui.add(textRenderStyle, \"fontVariant\", {\n            Regular: harp_text_canvas_1.FontVariant.Regular,\n            AllCaps: harp_text_canvas_1.FontVariant.AllCaps,\n            SmallCaps: harp_text_canvas_1.FontVariant.SmallCaps\n        }).onChange(function (value) {\n            textRenderStyle.fontVariant = Number(value);\n            assetsLoaded = false;\n            textCanvas.fontCatalog.loadCharset(textSample, textRenderStyle).then(function () {\n                assetsLoaded = true;\n            });\n        });\n    }\n    function initDebugGrid() {\n        gridScene = new THREE.Scene();\n        gridScene.add(new THREE.LineSegments(new THREE.WireframeGeometry(new THREE.PlaneBufferGeometry(window.innerWidth - 1, window.innerHeight - 1, window.innerWidth / 16, window.innerHeight / 16)), new THREE.LineBasicMaterial({\n            color: 0x999999,\n            depthWrite: false,\n            depthTest: false\n        })), new THREE.LineSegments(new THREE.WireframeGeometry(new THREE.PlaneBufferGeometry(window.innerWidth - 1, window.innerHeight - 1, 2, 2)), new THREE.LineBasicMaterial({\n            color: 0xff0000,\n            depthWrite: false,\n            depthTest: false\n        })));\n        penObject = new THREE.Mesh(new THREE.SphereBufferGeometry(4, 4, 4), new THREE.MeshBasicMaterial({ color: 0xff0000 }));\n        gridScene.add(penObject);\n    }\n    function initDebugBounds() {\n        boundsScene = new THREE.Scene();\n        boundsVertexBuffer = new THREE.BufferAttribute(new Float32Array(32 * 4 * characterCount), 4);\n        boundsVertexBuffer.setDynamic(true);\n        boundsGeometry = new THREE.BufferGeometry();\n        boundsGeometry.addAttribute(\"position\", boundsVertexBuffer);\n        boundsObject = new THREE.Line(boundsGeometry, new THREE.LineBasicMaterial({\n            color: 0xff0000,\n            depthTest: false,\n            depthWrite: false,\n            transparent: true,\n            opacity: 0.2\n        }));\n        boundsScene.add(boundsObject);\n    }\n    function updateDebugBounds(position) {\n        var e_1, _a;\n        var vertexArray = boundsVertexBuffer.array;\n        var arrayIdx = 0;\n        vertexArray[arrayIdx++] = textBounds.min.x;\n        vertexArray[arrayIdx++] = textBounds.min.y;\n        vertexArray[arrayIdx++] = 0.0;\n        vertexArray[arrayIdx++] = 1.0;\n        vertexArray[arrayIdx++] = textBounds.min.x;\n        vertexArray[arrayIdx++] = textBounds.max.y;\n        vertexArray[arrayIdx++] = 0.0;\n        vertexArray[arrayIdx++] = 1.0;\n        vertexArray[arrayIdx++] = textBounds.max.x;\n        vertexArray[arrayIdx++] = textBounds.max.y;\n        vertexArray[arrayIdx++] = 0.0;\n        vertexArray[arrayIdx++] = 1.0;\n        vertexArray[arrayIdx++] = textBounds.max.x;\n        vertexArray[arrayIdx++] = textBounds.min.y;\n        vertexArray[arrayIdx++] = 0.0;\n        vertexArray[arrayIdx++] = 1.0;\n        vertexArray[arrayIdx++] = textBounds.min.x;\n        vertexArray[arrayIdx++] = textBounds.min.y;\n        vertexArray[arrayIdx++] = 0.0;\n        vertexArray[arrayIdx++] = 1.0;\n        try {\n            for (var characterBounds_1 = __values(characterBounds), characterBounds_1_1 = characterBounds_1.next(); !characterBounds_1_1.done; characterBounds_1_1 = characterBounds_1.next()) {\n                var bounds = characterBounds_1_1.value;\n                vertexArray[arrayIdx++] = bounds.min.x;\n                vertexArray[arrayIdx++] = bounds.min.y;\n                vertexArray[arrayIdx++] = 0.0;\n                vertexArray[arrayIdx++] = 1.0;\n                vertexArray[arrayIdx++] = bounds.min.x;\n                vertexArray[arrayIdx++] = bounds.max.y;\n                vertexArray[arrayIdx++] = 0.0;\n                vertexArray[arrayIdx++] = 1.0;\n                vertexArray[arrayIdx++] = bounds.max.x;\n                vertexArray[arrayIdx++] = bounds.max.y;\n                vertexArray[arrayIdx++] = 0.0;\n                vertexArray[arrayIdx++] = 1.0;\n                vertexArray[arrayIdx++] = bounds.max.x;\n                vertexArray[arrayIdx++] = bounds.min.y;\n                vertexArray[arrayIdx++] = 0.0;\n                vertexArray[arrayIdx++] = 1.0;\n                vertexArray[arrayIdx++] = bounds.min.x;\n                vertexArray[arrayIdx++] = bounds.min.y;\n                vertexArray[arrayIdx++] = 0.0;\n                vertexArray[arrayIdx++] = 1.0;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (characterBounds_1_1 && !characterBounds_1_1.done && (_a = characterBounds_1.return)) _a.call(characterBounds_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        boundsVertexBuffer.needsUpdate = true;\n        boundsVertexBuffer.updateRange.offset = 0;\n        boundsVertexBuffer.updateRange.count = arrayIdx;\n        boundsGeometry.setDrawRange(0, arrayIdx / 4);\n        boundsObject.position.x = position.x;\n        boundsObject.position.y = position.y;\n    }\n    function onWindowResize() {\n        webglRenderer.setSize(window.innerWidth, window.innerHeight);\n        camera.left = -window.innerWidth / 2.0;\n        camera.right = window.innerWidth / 2.0;\n        camera.bottom = -window.innerHeight / 2.0;\n        camera.top = window.innerHeight / 2.0;\n        camera.updateProjectionMatrix();\n    }\n    function onKeyDown(event) {\n        var key = event.keyCode || event.which;\n        // Handle backspaces.\n        if (key === 8) {\n            textSample = textSample.slice(0, textSample.length - 1);\n        }\n        else {\n            var char = String.fromCharCode(key);\n            textSample += char;\n            assetsLoaded = false;\n            textCanvas.fontCatalog.loadCharset(char, textRenderStyle).then(function () {\n                assetsLoaded = true;\n            });\n        }\n    }\n    function animate() {\n        requestAnimationFrame(animate);\n        webglRenderer.clear();\n        if (guiOptions.gridEnabled) {\n            penObject.position.set(penPosition.x, penPosition.y, -4.0);\n            webglRenderer.render(gridScene, camera);\n        }\n        penPosition.set(Math.floor(-window.innerWidth / 4.0), 0, 0);\n        boundsPosition.copy(penPosition);\n        if (assetsLoaded) {\n            textCanvas.clear();\n            textCanvas.textRenderStyle = textRenderStyle;\n            if (guiOptions.boundsEnabled) {\n                textCanvas.measureText(textSample, textBounds, {\n                    outputCharacterBounds: characterBounds\n                });\n            }\n            textCanvas.addText(textSample, penPosition, { updatePosition: true });\n            textCanvas.render(camera);\n        }\n        if (guiOptions.boundsEnabled) {\n            updateDebugBounds(boundsPosition);\n            webglRenderer.render(boundsScene, camera);\n        }\n        stats.update();\n    }\n    function main() {\n        // Init Three.JS\n        webglRenderer = new THREE.WebGLRenderer({\n            canvas: document.getElementById(\"mapCanvas\")\n        });\n        webglRenderer.autoClear = false;\n        webglRenderer.setClearColor(0xffffff);\n        webglRenderer.setPixelRatio(window.devicePixelRatio);\n        webglRenderer.setSize(window.innerWidth, window.innerHeight);\n        document.body.appendChild(webglRenderer.domElement);\n        document.body.appendChild(stats.dom);\n        window.addEventListener(\"resize\", onWindowResize);\n        window.addEventListener(\"keydown\", onKeyDown);\n        camera = new THREE.OrthographicCamera(-window.innerWidth / 2.0, window.innerWidth / 2.0, window.innerHeight / 2.0, -window.innerHeight / 2.0);\n        camera.position.z = 1.0;\n        camera.near = 0.0;\n        camera.updateProjectionMatrix();\n        // Init TextCanvas\n        textRenderStyle = new harp_text_canvas_1.TextRenderStyle({\n            fontSize: { unit: harp_text_canvas_1.FontUnit.Pixel, size: 64.0, backgroundSize: 8.0 },\n            color: new THREE.Color(0xff0000),\n            backgroundColor: new THREE.Color(0x000000),\n            backgroundOpacity: 1.0\n        });\n        harp_text_canvas_1.FontCatalog.load(\"resources/fonts/Default_FontCatalog.json\", 2048).then(function (loadedFontCatalog) {\n            textCanvas = new harp_text_canvas_1.TextCanvas({\n                renderer: webglRenderer,\n                fontCatalog: loadedFontCatalog,\n                minGlyphCount: 16,\n                maxGlyphCount: characterCount\n            });\n            loadedFontCatalog.loadCharset(textSample, textRenderStyle).then(function () {\n                assetsLoaded = true;\n            });\n        });\n        // Init Debug Visualization\n        initDebugBounds();\n        initDebugGrid();\n        addGUIControls();\n        // Animation loop\n        animate();\n    }\n    main();\n})(TextCanvasDynamicExample = exports.TextCanvasDynamicExample || (exports.TextCanvasDynamicExample = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGV4dGNhbnZhc19keW5hbWljLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3RleHRjYW52YXNfZHluYW1pYy50cz80MjlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTctMjAxOSBIRVJFIEV1cm9wZSBCLlYuXG4gKiBMaWNlbnNlZCB1bmRlciBBcGFjaGUgMi4wLCBzZWUgZnVsbCBsaWNlbnNlIGluIExJQ0VOU0VcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuZGVjbGFyZSBmdW5jdGlvbiByZXF1aXJlKG1vZHVsZTogYW55KTogYW55O1xuXG5pbXBvcnQgeyBHVUkgfSBmcm9tIFwiZGF0Lmd1aVwiO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXZhci1yZXF1aXJlc1xuY29uc3QgU3RhdHMgPSByZXF1aXJlKFwic3RhdHMuanNcIik7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuaW1wb3J0IHtcbiAgICBDb250ZXh0dWFsQXJhYmljQ29udmVydGVyLFxuICAgIEZvbnRDYXRhbG9nLFxuICAgIEZvbnRTdHlsZSxcbiAgICBGb250VW5pdCxcbiAgICBGb250VmFyaWFudCxcbiAgICBUZXh0Q2FudmFzLFxuICAgIFRleHRSZW5kZXJTdHlsZVxufSBmcm9tIFwiQGhlcmUvaGFycC10ZXh0LWNhbnZhc1wiO1xuXG4vKipcbiAqIFRoaXMgZXhhbXBsZSBzaG93Y2FzZXMgaG93IFtbVGV4dENhbnZhc11dIGNhbiBoYW5kbGUgZHluYW1pYyBsb2FkaW5nIG9mIG11bHRpcGxlIFtbRm9udENhdGFsb2ddXVxuICogYXNzZXRzLCBhcyB3ZWxsIGFzIGR5bmFtaWMgcmVhbC10aW1lIHRleHQgc3R5bGluZy5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiByZWdhcmRpbmcgYmFzaWMgW1tUZXh0Q2FudmFzXV0gaW5pdGlhbGl6YXRpb24gYW5kIHVzYWdlLCBwbGVhc2UgY2hlY2s6XG4gKiBbW1RleHRDYW52YXNNaW5pbWFsRXhhbXBsZV1dIGRvY3VtZW50YXRpb24uXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgVGV4dENhbnZhc0R5bmFtaWNFeGFtcGxlIHtcbiAgICBjb25zdCBzdGF0cyA9IG5ldyBTdGF0cygpO1xuICAgIGNvbnN0IGd1aSA9IG5ldyBHVUkoeyBoaWRlYWJsZTogZmFsc2UgfSk7XG4gICAgY29uc3QgZ3VpT3B0aW9ucyA9IHtcbiAgICAgICAgaW5wdXQ6IFwiVHlwZSB0byBzdGFydC4uLlwiLFxuICAgICAgICBmb250TmFtZTogXCJcIixcbiAgICAgICAgZ3JpZEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGJvdW5kc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICByOiAwLjAsXG4gICAgICAgICAgICBnOiAwLjAsXG4gICAgICAgICAgICBiOiAwLjBcbiAgICAgICAgfSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB7XG4gICAgICAgICAgICByOiAwLjAsXG4gICAgICAgICAgICBnOiAwLjAsXG4gICAgICAgICAgICBiOiAwLjBcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgd2ViZ2xSZW5kZXJlcjogVEhSRUUuV2ViR0xSZW5kZXJlcjtcbiAgICBsZXQgY2FtZXJhOiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmE7XG5cbiAgICBsZXQgdGV4dENhbnZhczogVGV4dENhbnZhcztcbiAgICBsZXQgdGV4dFJlbmRlclN0eWxlOiBUZXh0UmVuZGVyU3R5bGU7XG4gICAgbGV0IGFzc2V0c0xvYWRlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyQ291bnQgPSAyNTY7XG4gICAgbGV0IHRleHRTYW1wbGUgPSBndWlPcHRpb25zLmlucHV0O1xuICAgIGNvbnN0IHBlblBvc2l0aW9uOiBUSFJFRS5WZWN0b3IzID0gbmV3IFRIUkVFLlZlY3RvcjMoXG4gICAgICAgIE1hdGguZmxvb3IoLXdpbmRvdy5pbm5lcldpZHRoIC8gNC4wKSxcbiAgICAgICAgMCxcbiAgICAgICAgMFxuICAgICk7XG5cbiAgICBjb25zdCB0ZXh0Qm91bmRzOiBUSFJFRS5Cb3gyID0gbmV3IFRIUkVFLkJveDIobmV3IFRIUkVFLlZlY3RvcjIoKSwgbmV3IFRIUkVFLlZlY3RvcjIoKSk7XG4gICAgY29uc3QgY2hhcmFjdGVyQm91bmRzOiBUSFJFRS5Cb3gyW10gPSBbXTtcbiAgICBsZXQgYm91bmRzU2NlbmU6IFRIUkVFLlNjZW5lO1xuICAgIGxldCBib3VuZHNWZXJ0ZXhCdWZmZXI6IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTtcbiAgICBsZXQgYm91bmRzR2VvbWV0cnk6IFRIUkVFLkJ1ZmZlckdlb21ldHJ5O1xuICAgIGxldCBib3VuZHNPYmplY3Q6IFRIUkVFLk9iamVjdDNEO1xuICAgIGNvbnN0IGJvdW5kc1Bvc2l0aW9uOiBUSFJFRS5WZWN0b3IzID0gcGVuUG9zaXRpb24uY2xvbmUoKTtcblxuICAgIGxldCBncmlkU2NlbmU6IFRIUkVFLlNjZW5lO1xuICAgIGxldCBwZW5PYmplY3Q6IFRIUkVFLk9iamVjdDNEO1xuXG4gICAgZnVuY3Rpb24gYWRkR1VJQ29udHJvbHMoKSB7XG4gICAgICAgIGd1aU9wdGlvbnMuY29sb3IuciA9IHRleHRSZW5kZXJTdHlsZS5jb2xvciEuciAqIDI1NS4wO1xuICAgICAgICBndWlPcHRpb25zLmNvbG9yLmcgPSB0ZXh0UmVuZGVyU3R5bGUuY29sb3IhLmcgKiAyNTUuMDtcbiAgICAgICAgZ3VpT3B0aW9ucy5jb2xvci5iID0gdGV4dFJlbmRlclN0eWxlLmNvbG9yIS5iICogMjU1LjA7XG4gICAgICAgIGd1aU9wdGlvbnMuYmFja2dyb3VuZENvbG9yLnIgPSB0ZXh0UmVuZGVyU3R5bGUuYmFja2dyb3VuZENvbG9yIS5yICogMjU1LjA7XG4gICAgICAgIGd1aU9wdGlvbnMuYmFja2dyb3VuZENvbG9yLmcgPSB0ZXh0UmVuZGVyU3R5bGUuYmFja2dyb3VuZENvbG9yIS5nICogMjU1LjA7XG4gICAgICAgIGd1aU9wdGlvbnMuYmFja2dyb3VuZENvbG9yLmIgPSB0ZXh0UmVuZGVyU3R5bGUuYmFja2dyb3VuZENvbG9yIS5iICogMjU1LjA7XG5cbiAgICAgICAgZ3VpLmFkZChndWlPcHRpb25zLCBcImlucHV0XCIpLm9uRmluaXNoQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0ZXh0U2FtcGxlID0gQ29udGV4dHVhbEFyYWJpY0NvbnZlcnRlci5pbnN0YW5jZS5jb252ZXJ0KHZhbHVlKTtcbiAgICAgICAgICAgIGFzc2V0c0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGV4dENhbnZhcy5mb250Q2F0YWxvZy5sb2FkQ2hhcnNldCh0ZXh0U2FtcGxlLCB0ZXh0UmVuZGVyU3R5bGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2V0c0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGd1aS5hZGQoZ3VpT3B0aW9ucywgXCJncmlkRW5hYmxlZFwiKTtcbiAgICAgICAgZ3VpLmFkZChndWlPcHRpb25zLCBcImJvdW5kc0VuYWJsZWRcIik7XG4gICAgICAgIGd1aS5hZGQodGV4dFJlbmRlclN0eWxlLmZvbnRTaXplISwgXCJ1bml0XCIsIHtcbiAgICAgICAgICAgIEVtOiBGb250VW5pdC5FbSxcbiAgICAgICAgICAgIFBpeGVsOiBGb250VW5pdC5QaXhlbCxcbiAgICAgICAgICAgIFBvaW50OiBGb250VW5pdC5Qb2ludCxcbiAgICAgICAgICAgIFBlcmNlbnQ6IEZvbnRVbml0LlBlcmNlbnRcbiAgICAgICAgfSkub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRleHRSZW5kZXJTdHlsZS5mb250U2l6ZSEudW5pdCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBndWkuYWRkKHRleHRSZW5kZXJTdHlsZS5mb250U2l6ZSEsIFwic2l6ZVwiLCAwLjEsIDEwMCwgMC4xKTtcbiAgICAgICAgZ3VpLmFkZCh0ZXh0UmVuZGVyU3R5bGUuZm9udFNpemUhLCBcImJhY2tncm91bmRTaXplXCIsIDAuMCwgMTAwLCAwLjEpO1xuICAgICAgICBndWkuYWRkQ29sb3IoZ3VpT3B0aW9ucywgXCJjb2xvclwiKS5vbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0ZXh0UmVuZGVyU3R5bGUuY29sb3IhLnIgPSBndWlPcHRpb25zLmNvbG9yLnIgLyAyNTUuMDtcbiAgICAgICAgICAgIHRleHRSZW5kZXJTdHlsZS5jb2xvciEuZyA9IGd1aU9wdGlvbnMuY29sb3IuZyAvIDI1NS4wO1xuICAgICAgICAgICAgdGV4dFJlbmRlclN0eWxlLmNvbG9yIS5iID0gZ3VpT3B0aW9ucy5jb2xvci5iIC8gMjU1LjA7XG4gICAgICAgIH0pO1xuICAgICAgICBndWkuYWRkKHRleHRSZW5kZXJTdHlsZSwgXCJvcGFjaXR5XCIsIDAuMCwgMS4wLCAwLjAxKTtcbiAgICAgICAgZ3VpLmFkZENvbG9yKGd1aU9wdGlvbnMsIFwiYmFja2dyb3VuZENvbG9yXCIpLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRleHRSZW5kZXJTdHlsZS5iYWNrZ3JvdW5kQ29sb3IhLnIgPSBndWlPcHRpb25zLmJhY2tncm91bmRDb2xvci5yIC8gMjU1LjA7XG4gICAgICAgICAgICB0ZXh0UmVuZGVyU3R5bGUuYmFja2dyb3VuZENvbG9yIS5nID0gZ3VpT3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IuZyAvIDI1NS4wO1xuICAgICAgICAgICAgdGV4dFJlbmRlclN0eWxlLmJhY2tncm91bmRDb2xvciEuYiA9IGd1aU9wdGlvbnMuYmFja2dyb3VuZENvbG9yLmIgLyAyNTUuMDtcbiAgICAgICAgfSk7XG4gICAgICAgIGd1aS5hZGQodGV4dFJlbmRlclN0eWxlLCBcImJhY2tncm91bmRPcGFjaXR5XCIsIDAuMCwgMS4wLCAwLjEpO1xuICAgICAgICBndWkuYWRkKGd1aU9wdGlvbnMsIFwiZm9udE5hbWVcIikub25GaW5pc2hDaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRleHRSZW5kZXJTdHlsZS5mb250TmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgYXNzZXRzTG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0ZXh0Q2FudmFzLmZvbnRDYXRhbG9nLmxvYWRDaGFyc2V0KHRleHRTYW1wbGUsIHRleHRSZW5kZXJTdHlsZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXRzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZ3VpLmFkZCh0ZXh0UmVuZGVyU3R5bGUsIFwiZm9udFN0eWxlXCIsIHtcbiAgICAgICAgICAgIFJlZ3VsYXI6IEZvbnRTdHlsZS5SZWd1bGFyLFxuICAgICAgICAgICAgQm9sZDogRm9udFN0eWxlLkJvbGQsXG4gICAgICAgICAgICBJdGFsaWM6IEZvbnRTdHlsZS5JdGFsaWMsXG4gICAgICAgICAgICBCb2xkSXRhbGljOiBGb250U3R5bGUuQm9sZEl0YWxpY1xuICAgICAgICB9KS5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgdGV4dFJlbmRlclN0eWxlLmZvbnRTdHlsZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBhc3NldHNMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRleHRDYW52YXMuZm9udENhdGFsb2cubG9hZENoYXJzZXQodGV4dFNhbXBsZSwgdGV4dFJlbmRlclN0eWxlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NldHNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBndWkuYWRkKHRleHRSZW5kZXJTdHlsZSwgXCJmb250VmFyaWFudFwiLCB7XG4gICAgICAgICAgICBSZWd1bGFyOiBGb250VmFyaWFudC5SZWd1bGFyLFxuICAgICAgICAgICAgQWxsQ2FwczogRm9udFZhcmlhbnQuQWxsQ2FwcyxcbiAgICAgICAgICAgIFNtYWxsQ2FwczogRm9udFZhcmlhbnQuU21hbGxDYXBzXG4gICAgICAgIH0pLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0ZXh0UmVuZGVyU3R5bGUuZm9udFZhcmlhbnQgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgYXNzZXRzTG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0ZXh0Q2FudmFzLmZvbnRDYXRhbG9nLmxvYWRDaGFyc2V0KHRleHRTYW1wbGUsIHRleHRSZW5kZXJTdHlsZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXRzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0RGVidWdHcmlkKCkge1xuICAgICAgICBncmlkU2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgICAgZ3JpZFNjZW5lLmFkZChcbiAgICAgICAgICAgIG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoXG4gICAgICAgICAgICAgICAgbmV3IFRIUkVFLldpcmVmcmFtZUdlb21ldHJ5KFxuICAgICAgICAgICAgICAgICAgICBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeShcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lckhlaWdodCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCAvIDE2LFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IC8gMTZcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IDB4OTk5OTk5LFxuICAgICAgICAgICAgICAgICAgICBkZXB0aFdyaXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhUZXN0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhcbiAgICAgICAgICAgICAgICBuZXcgVEhSRUUuV2lyZWZyYW1lR2VvbWV0cnkoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGggLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhXcml0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoVGVzdDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIHBlbk9iamVjdCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgICAgICAgbmV3IFRIUkVFLlNwaGVyZUJ1ZmZlckdlb21ldHJ5KDQsIDQsIDQpLFxuICAgICAgICAgICAgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IDB4ZmYwMDAwIH0pXG4gICAgICAgICk7XG4gICAgICAgIGdyaWRTY2VuZS5hZGQocGVuT2JqZWN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0RGVidWdCb3VuZHMoKSB7XG4gICAgICAgIGJvdW5kc1NjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICAgIGJvdW5kc1ZlcnRleEJ1ZmZlciA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoXG4gICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KDMyICogNCAqIGNoYXJhY3RlckNvdW50KSxcbiAgICAgICAgICAgIDRcbiAgICAgICAgKTtcbiAgICAgICAgYm91bmRzVmVydGV4QnVmZmVyLnNldER5bmFtaWModHJ1ZSk7XG4gICAgICAgIGJvdW5kc0dlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgIGJvdW5kc0dlb21ldHJ5LmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsIGJvdW5kc1ZlcnRleEJ1ZmZlcik7XG4gICAgICAgIGJvdW5kc09iamVjdCA9IG5ldyBUSFJFRS5MaW5lKFxuICAgICAgICAgICAgYm91bmRzR2VvbWV0cnksXG4gICAgICAgICAgICBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmMDAwMCxcbiAgICAgICAgICAgICAgICBkZXB0aFRlc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRlcHRoV3JpdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMlxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgYm91bmRzU2NlbmUuYWRkKGJvdW5kc09iamVjdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlRGVidWdCb3VuZHMocG9zaXRpb246IFRIUkVFLlZlY3RvcjMpIHtcbiAgICAgICAgY29uc3QgdmVydGV4QXJyYXkgPSBib3VuZHNWZXJ0ZXhCdWZmZXIuYXJyYXkgYXMgRmxvYXQzMkFycmF5O1xuICAgICAgICBsZXQgYXJyYXlJZHggPSAwO1xuICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IHRleHRCb3VuZHMubWluLng7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gdGV4dEJvdW5kcy5taW4ueTtcbiAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAwLjA7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMS4wO1xuICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IHRleHRCb3VuZHMubWluLng7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gdGV4dEJvdW5kcy5tYXgueTtcbiAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAwLjA7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMS4wO1xuICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IHRleHRCb3VuZHMubWF4Lng7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gdGV4dEJvdW5kcy5tYXgueTtcbiAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAwLjA7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMS4wO1xuICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IHRleHRCb3VuZHMubWF4Lng7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gdGV4dEJvdW5kcy5taW4ueTtcbiAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAwLjA7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMS4wO1xuICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IHRleHRCb3VuZHMubWluLng7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gdGV4dEJvdW5kcy5taW4ueTtcbiAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAwLjA7XG4gICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMS4wO1xuXG4gICAgICAgIGZvciAoY29uc3QgYm91bmRzIG9mIGNoYXJhY3RlckJvdW5kcykge1xuICAgICAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSBib3VuZHMubWluLng7XG4gICAgICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IGJvdW5kcy5taW4ueTtcbiAgICAgICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMC4wO1xuICAgICAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAxLjA7XG4gICAgICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IGJvdW5kcy5taW4ueDtcbiAgICAgICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gYm91bmRzLm1heC55O1xuICAgICAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAwLjA7XG4gICAgICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IDEuMDtcbiAgICAgICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gYm91bmRzLm1heC54O1xuICAgICAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSBib3VuZHMubWF4Lnk7XG4gICAgICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IDAuMDtcbiAgICAgICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMS4wO1xuICAgICAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSBib3VuZHMubWF4Lng7XG4gICAgICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IGJvdW5kcy5taW4ueTtcbiAgICAgICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gMC4wO1xuICAgICAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAxLjA7XG4gICAgICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IGJvdW5kcy5taW4ueDtcbiAgICAgICAgICAgIHZlcnRleEFycmF5W2FycmF5SWR4KytdID0gYm91bmRzLm1pbi55O1xuICAgICAgICAgICAgdmVydGV4QXJyYXlbYXJyYXlJZHgrK10gPSAwLjA7XG4gICAgICAgICAgICB2ZXJ0ZXhBcnJheVthcnJheUlkeCsrXSA9IDEuMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kc1ZlcnRleEJ1ZmZlci5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIGJvdW5kc1ZlcnRleEJ1ZmZlci51cGRhdGVSYW5nZS5vZmZzZXQgPSAwO1xuICAgICAgICBib3VuZHNWZXJ0ZXhCdWZmZXIudXBkYXRlUmFuZ2UuY291bnQgPSBhcnJheUlkeDtcbiAgICAgICAgYm91bmRzR2VvbWV0cnkuc2V0RHJhd1JhbmdlKDAsIGFycmF5SWR4IC8gNCk7XG5cbiAgICAgICAgYm91bmRzT2JqZWN0LnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICBib3VuZHNPYmplY3QucG9zaXRpb24ueSA9IHBvc2l0aW9uLnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7XG4gICAgICAgIHdlYmdsUmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcblxuICAgICAgICBjYW1lcmEubGVmdCA9IC13aW5kb3cuaW5uZXJXaWR0aCAvIDIuMDtcbiAgICAgICAgY2FtZXJhLnJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLyAyLjA7XG4gICAgICAgIGNhbWVyYS5ib3R0b20gPSAtd2luZG93LmlubmVySGVpZ2h0IC8gMi4wO1xuICAgICAgICBjYW1lcmEudG9wID0gd2luZG93LmlubmVySGVpZ2h0IC8gMi4wO1xuICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uS2V5RG93bihldmVudDogYW55KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2g7XG4gICAgICAgIC8vIEhhbmRsZSBiYWNrc3BhY2VzLlxuICAgICAgICBpZiAoa2V5ID09PSA4KSB7XG4gICAgICAgICAgICB0ZXh0U2FtcGxlID0gdGV4dFNhbXBsZS5zbGljZSgwLCB0ZXh0U2FtcGxlLmxlbmd0aCAtIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoa2V5KTtcbiAgICAgICAgICAgIHRleHRTYW1wbGUgKz0gY2hhcjtcbiAgICAgICAgICAgIGFzc2V0c0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGV4dENhbnZhcy5mb250Q2F0YWxvZy5sb2FkQ2hhcnNldChjaGFyLCB0ZXh0UmVuZGVyU3R5bGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2V0c0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgd2ViZ2xSZW5kZXJlci5jbGVhcigpO1xuXG4gICAgICAgIGlmIChndWlPcHRpb25zLmdyaWRFbmFibGVkKSB7XG4gICAgICAgICAgICBwZW5PYmplY3QucG9zaXRpb24uc2V0KHBlblBvc2l0aW9uLngsIHBlblBvc2l0aW9uLnksIC00LjApO1xuICAgICAgICAgICAgd2ViZ2xSZW5kZXJlci5yZW5kZXIoZ3JpZFNjZW5lLCBjYW1lcmEpO1xuICAgICAgICB9XG4gICAgICAgIHBlblBvc2l0aW9uLnNldChNYXRoLmZsb29yKC13aW5kb3cuaW5uZXJXaWR0aCAvIDQuMCksIDAsIDApO1xuICAgICAgICBib3VuZHNQb3NpdGlvbi5jb3B5KHBlblBvc2l0aW9uKTtcblxuICAgICAgICBpZiAoYXNzZXRzTG9hZGVkKSB7XG4gICAgICAgICAgICB0ZXh0Q2FudmFzLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIHRleHRDYW52YXMudGV4dFJlbmRlclN0eWxlID0gdGV4dFJlbmRlclN0eWxlO1xuICAgICAgICAgICAgaWYgKGd1aU9wdGlvbnMuYm91bmRzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRleHRDYW52YXMubWVhc3VyZVRleHQodGV4dFNhbXBsZSwgdGV4dEJvdW5kcywge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRDaGFyYWN0ZXJCb3VuZHM6IGNoYXJhY3RlckJvdW5kc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0Q2FudmFzLmFkZFRleHQodGV4dFNhbXBsZSwgcGVuUG9zaXRpb24sIHsgdXBkYXRlUG9zaXRpb246IHRydWUgfSk7XG4gICAgICAgICAgICB0ZXh0Q2FudmFzLnJlbmRlcihjYW1lcmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGd1aU9wdGlvbnMuYm91bmRzRW5hYmxlZCkge1xuICAgICAgICAgICAgdXBkYXRlRGVidWdCb3VuZHMoYm91bmRzUG9zaXRpb24pO1xuICAgICAgICAgICAgd2ViZ2xSZW5kZXJlci5yZW5kZXIoYm91bmRzU2NlbmUsIGNhbWVyYSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0cy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWluKCkge1xuICAgICAgICAvLyBJbml0IFRocmVlLkpTXG4gICAgICAgIHdlYmdsUmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICAgICAgICBjYW52YXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwQ2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgICB3ZWJnbFJlbmRlcmVyLmF1dG9DbGVhciA9IGZhbHNlO1xuICAgICAgICB3ZWJnbFJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHhmZmZmZmYpO1xuICAgICAgICB3ZWJnbFJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICB3ZWJnbFJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQod2ViZ2xSZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdGF0cy5kb20pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBvbldpbmRvd1Jlc2l6ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuXG4gICAgICAgIGNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoXG4gICAgICAgICAgICAtd2luZG93LmlubmVyV2lkdGggLyAyLjAsXG4gICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCAvIDIuMCxcbiAgICAgICAgICAgIHdpbmRvdy5pbm5lckhlaWdodCAvIDIuMCxcbiAgICAgICAgICAgIC13aW5kb3cuaW5uZXJIZWlnaHQgLyAyLjBcbiAgICAgICAgKTtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnogPSAxLjA7XG4gICAgICAgIGNhbWVyYS5uZWFyID0gMC4wO1xuICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG4gICAgICAgIC8vIEluaXQgVGV4dENhbnZhc1xuICAgICAgICB0ZXh0UmVuZGVyU3R5bGUgPSBuZXcgVGV4dFJlbmRlclN0eWxlKHtcbiAgICAgICAgICAgIGZvbnRTaXplOiB7IHVuaXQ6IEZvbnRVbml0LlBpeGVsLCBzaXplOiA2NC4wLCBiYWNrZ3JvdW5kU2l6ZTogOC4wIH0sXG4gICAgICAgICAgICBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogbmV3IFRIUkVFLkNvbG9yKDB4MDAwMDAwKSxcbiAgICAgICAgICAgIGJhY2tncm91bmRPcGFjaXR5OiAxLjBcbiAgICAgICAgfSk7XG4gICAgICAgIEZvbnRDYXRhbG9nLmxvYWQoXCJyZXNvdXJjZXMvZm9udHMvRGVmYXVsdF9Gb250Q2F0YWxvZy5qc29uXCIsIDIwNDgpLnRoZW4oXG4gICAgICAgICAgICAobG9hZGVkRm9udENhdGFsb2c6IEZvbnRDYXRhbG9nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dENhbnZhcyA9IG5ldyBUZXh0Q2FudmFzKHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXI6IHdlYmdsUmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRDYXRhbG9nOiBsb2FkZWRGb250Q2F0YWxvZyxcbiAgICAgICAgICAgICAgICAgICAgbWluR2x5cGhDb3VudDogMTYsXG4gICAgICAgICAgICAgICAgICAgIG1heEdseXBoQ291bnQ6IGNoYXJhY3RlckNvdW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbG9hZGVkRm9udENhdGFsb2cubG9hZENoYXJzZXQodGV4dFNhbXBsZSwgdGV4dFJlbmRlclN0eWxlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBJbml0IERlYnVnIFZpc3VhbGl6YXRpb25cbiAgICAgICAgaW5pdERlYnVnQm91bmRzKCk7XG4gICAgICAgIGluaXREZWJ1Z0dyaWQoKTtcbiAgICAgICAgYWRkR1VJQ29udHJvbHMoKTtcblxuICAgICAgICAvLyBBbmltYXRpb24gbG9vcFxuICAgICAgICBhbmltYXRlKCk7XG4gICAgfVxuXG4gICAgbWFpbigpO1xufVxuIl0sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7QUFJQTs7Ozs7Ozs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBOzs7Ozs7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/textcanvas_dynamic.ts\n");

/***/ }),

/***/ "three":
/*!************************!*\
  !*** external "THREE" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = THREE;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhyZWUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJUSFJFRVwiP2ZjMDAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBUSFJFRTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///three\n");

/***/ })

/******/ });